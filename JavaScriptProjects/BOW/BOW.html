<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uso de BOW</title>
</head>
<body>
    <h1>Uso de BOW</h1>
    <ul>
        <li>Nos muestre cual és nuestro navegador en el título.</li>
        <li>Que nos muestre el tamaño actual de la ventana en cada momento.</li>
        <li>Abrir una ventana emergente un  tamaño de 200 px x 200 px cuando se carge el doucmento.</li>
        <li>Pida por prompt las dimensiones del nuevo tamaño y se modifique el tamaño de la nueva  ventaa.</li>
    </ul>

    <script>
        var lista = document.getElementsByTagName("li");

        // Ejercicio 1
        var nombreNavegador = document.createTextNode(navigator.appName);
        var parrafo0 = document.createElement("p")
        parrafo0.appendChild(nombreNavegador);
        lista[0].appendChild(parrafo0);

        // Ejercicio 2
        window.addEventListener("resize", calculaDimensiones);                          // Creo un EventListener "resize" en el window
        var parrafo1 = document.createElement("p")                                      // Creo el elemento "<p>"
        calculaDimensiones();

        function calculaDimensiones(){                                                  // Función que sera llamda cada vez que se cambie el tamaño de la ventana
            
            var ancho = window.innerWidth;                                              // Obtengo el ancho de la ventana
            var alto = window.innerHeight;                                              // Obtengo el alto de la ventana
            var mensaje = document.createTextNode(ancho + "px - " + alto + "px");       // Creo un textNode con el mensaje
            parrafo1.appendChild(mensaje);                                              // Le inserto el mensaje en el elemento "<p>"
            lista[1].appendChild(parrafo1);                                             // Le inserto el elemento "<p>" al elemento "<li>"
            parrafo1.replaceChildren(mensaje, mensaje);                                 // Reemplazo el texto por el mismo texto
        }

        // Ejercicio 3
        var botonAbrirPopUp = document.createElement("button");
        var nombrebotonPopUp = document.createTextNode("Abrir Pop-Up");
        var parrafo2 = document.createElement("p")
        botonAbrirPopUp.appendChild(nombrebotonPopUp);
        parrafo2.appendChild(botonAbrirPopUp);
        lista[2].appendChild(parrafo2);

        botonAbrirPopUp.addEventListener("click", abrirVentana);
        function abrirVentana(){
            window.open("http://www.google.es" , "ventana1" , "width=200,height=200")
        }


        // Ejercicio 4
        // Boton de prompt Anchura
        var botonAnchura = document.createElement("button");
        var nombreBotonAnchura = document.createTextNode("Anchura");
        botonAnchura.setAttribute("Style", "margin-right: 3%");
        botonAnchura.appendChild(nombreBotonAnchura);

        // Boton de prompt Altura
        var botonAltura= document.createElement("button");
        var nombreBotonAltura = document.createTextNode("Altura");   
        botonAltura.setAttribute("Style", "margin-right: 3%"); 
        botonAltura.appendChild(nombreBotonAltura);

        // Boton para calcular el resultado
        var botonVentana = document.createElement("button");
        var nombreBotonVentana = document.createTextNode("Generar Ventana");    
        botonVentana.appendChild(nombreBotonVentana);

        // Todos los parrafos
        var parrafo3 = document.createElement("p")
        var parrafoAnchura = document.createElement("p")
        var parrafoAltura = document.createElement("p")
        var parrafoBotonVentana = document.createElement("p")
        parrafo3.appendChild(botonAnchura);
        parrafo3.appendChild(botonAltura);
        parrafo3.appendChild(botonVentana);
        
        lista[3].appendChild(parrafo3);

        botonAnchura.addEventListener("click", setAnchura);
        var anchura;
        function setAnchura(){
            do{
                anchura = parseInt(window.prompt("Anchura de la nueva pantalla:", ""));
            }while(isNaN(anchura));
            var textoAnchura = document.createTextNode("Anchura = " + anchura);
            parrafoAnchura.appendChild(textoAnchura);
            lista[3].appendChild(parrafoAnchura);
            parrafoAnchura.replaceChildren(textoAnchura, textoAnchura);
        }

        botonAltura.addEventListener("click", setAltura);
        var altura;
        function setAltura(){
            do{
                altura = parseInt(window.prompt("Altura de la nueva pantalla:", ""));
            }while(isNaN(altura));
            var textoAltura = document.createTextNode("Altura = " + altura);
            parrafoAltura.appendChild(textoAltura);
            lista[3].appendChild(parrafoAltura);
            parrafoAltura.replaceChildren(textoAltura, textoAltura);
        }

        botonVentana.addEventListener("click", generaVentana);
        function generaVentana(){
            window.open("http://www.google.es" , "ventana2" , "width="+altura+",height="+anchura+"");
        }

    </script>
</body>
</html>